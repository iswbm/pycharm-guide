# 9.6 【必学技巧 06】快速重构，修改所有函数与变量

![](http://image.iswbm.com/20200804124133.png)

在某同事离职交接代码时，有时候会在心里默默吐槽。

为了后期维护的方便，我通常会花个几天的时间对其代码进行了大量的重构。

## 变量重命名

重构代码，免不了要对变量进行重命名。

如果一个一个改，显然不太智能，要知道我们是在用IDE，你也许会说，用搜索全部替换不就行了？还真不行。

比如下面这段代码，我只想改myfun 里的的test_name，而对于全局下的同名变量是不应该修改的。如果你全局替换，就会有误伤。

![](http://image.iswbm.com/20190629211910.png)

这时候，我们如何做呢？

可以使用 PyCharm 的 Refactor 功能，它会自动匹配作用域，既做到批量更改，也做到不误伤。

操作方法很简单，先选中你的变量，然后使用快捷键 Shift+F6，就可以直接重命名了。

![](https://i.loli.net/2019/06/29/5d1764b94d11128912.gif)

(GIF动态只播放两次，重播请刷新页面)

## 函数重命名

如果是对函数重命名，使用 ⇧ + F6 也是可以的，只不过要点很多下。

更合适的方法是使用 ⌘ + F6，演示过程如下

![](http://image.iswbm.com/rename.gif)

